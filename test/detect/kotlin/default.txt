import kotlinx.serialization.Serializable
import kotlin.random.Random

interface Building

@Serializable
class House(
    val rooms: Int = 3,
    val name: String = "Palace"
) : Building {
    var residents: Int = 0
        get() {
            println("Current residents: $field")
            return field
        }

    fun burn(evacuation: (people: Int) -> Boolean) {
        evacuation((0..residents).random())
    }
}

fun main() {
    val house = House(name = "Skyscraper 1")
    house.burn {
        Random.nextBoolean()
    }
}
